
syntax = "proto3";

option java_multiple_files = true;
option java_outer_classname = "QiwiProto";


package protobuf;

service Qiwi {
  rpc AddAccount (AddAccountRequest) returns (AddAccountResponse) {}
  rpc ListAccounts (ListAccountsRequest) returns (ListAccountsResponse) {}
  rpc GetAccountBalances (GetAccountBalancesRequest) returns (GetAccountBalancesResponse) {}
  rpc SendMoneyToQiwi (SendMoneyToQiwiRequest) returns (SendMoneyToQiwiResponse) {}
  rpc GetPaymentLinks (GetPaymentLinksRequest) returns (GetPaymentLinksResponse) {}
}


message AddAccountRequest {
  string token = 1;
  string contractID = 2;
}

message AddAccountResponse {
  string contractID = 1;
  int64 operationLimit = 2;
  int64 monthLimit = 3;
}

message ListAccountsRequest {}

message ListAccountsResponse {
  repeated string contractIDs = 1;
}

message GetAccountBalancesRequest {
  string contractID = 1;
}
message GetAccountBalancesResponse {
  int64 balance = 1;
}

message SendMoneyToQiwiRequest {
  string senderContractID = 1;
  string receiverContractID = 2;
  string currency = 3;
  int64 amount = 4;
}
message SendMoneyToQiwiResponse {
  string status = 1;
}

message GetPaymentLinksRequest {
  int64 amount = 1;
}
message GetPaymentLinksResponse {
  repeated string paymentLinks = 1;
}
